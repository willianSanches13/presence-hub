{"ast":null,"code":"import { __decorate } from \"tslib\";\nimport { Component } from '@angular/core';\nimport { Validators } from '@angular/forms';\nimport { SerieEnum, SerieEnumKeys } from '../enums/serie.enum';\nlet AlunoUpdateComponent = class AlunoUpdateComponent {\n  constructor(fb, alunoService, router, route) {\n    this.fb = fb;\n    this.alunoService = alunoService;\n    this.router = router;\n    this.route = route;\n    this.series = SerieEnumKeys;\n    this.SerieEnum = SerieEnum;\n  }\n  ngOnInit() {\n    this.alunoForm = this.fb.group({\n      nome: ['', Validators.required],\n      email: ['', [Validators.required, Validators.email]],\n      dataNascimento: [null, Validators.required],\n      serie: ['', Validators.required],\n      endereco: this.fb.group({\n        logradouro: ['', Validators.required],\n        bairro: ['', Validators.required],\n        cidade: ['', Validators.required],\n        uf: ['', Validators.required],\n        cep: ['', Validators.required],\n        numero: [null, Validators.required],\n        complemento: ['']\n      }),\n      instituicaoDeEnsino: ['', Validators.required],\n      telefoneContato: ['', Validators.required],\n      nomeResponsavel: ['', Validators.required],\n      telefoneResponsavel: ['', Validators.required],\n      matriculaProjeto: ['', Validators.required],\n      dataInscricao: [null, Validators.required],\n      observacoes: ['']\n    });\n    // Load the aluno data here\n  }\n  buscarEndereco() {\n    const cep = this.alunoForm.get('endereco.cep')?.value;\n    if (cep) {\n      this.alunoService.buscarEndereco(cep).subscribe(data => {\n        this.alunoForm.patchValue({\n          endereco: {\n            logradouro: data.logradouro,\n            bairro: data.bairro,\n            cidade: data.localidade,\n            uf: data.uf\n          }\n        });\n      });\n    }\n  }\n  updateAluno() {\n    if (this.alunoForm.valid) {\n      const aluno = this.alunoForm.getRawValue();\n      this.alunoService.update(aluno).subscribe(() => {\n        this.alunoService.showMessage('Aluno atualizado!');\n        this.router.navigate(['/alunos']);\n      });\n    }\n  }\n  cancel() {\n    this.router.navigate(['/alunos']);\n  }\n};\nAlunoUpdateComponent = __decorate([Component({\n  selector: 'app-aluno-update',\n  templateUrl: './aluno-update.component.html',\n  styleUrls: ['./aluno-update.component.css']\n})], AlunoUpdateComponent);\nexport { AlunoUpdateComponent };","map":null,"metadata":{},"sourceType":"module","externalDependencies":[]}